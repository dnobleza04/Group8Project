<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Employee Login</title>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

	<style>
		body {
			font-family: Arial, sans-serif;
			padding: 60px;
		}

		.card {
			max-width: 520px;
		}

		h1 {
			margin-bottom: 24px;
		}

		input {
			width: 100%;
			padding: 14px;
			font-size: 16px;
			margin: 10px 0;
		}

		button {
			width: 100%;
			padding: 14px;
			font-size: 18px;
			cursor: pointer;
		}

		#msg {
			margin-top: 14px;
			color: red;
		}
	</style>

	<script>
		function doLogin() {
			var email = $("#email").val().trim();
			var password = $("#password").val();

			if (!email || !password) {
				$("#msg").text("Please enter email and password.");
				return;
			}

			$("#msg").text("");

			$.ajax({
				type: "POST",
				url: "ProjectServices.asmx/EmployeeLogin",
				data: JSON.stringify({ email: email, password: password }),
				contentType: "application/json; charset=utf-8",
				dataType: "json",
				success: function (res) {
					// ASMX returns JSON like: { d: { success: true/false, message: "..." } }
					var r = res.d;

					if (r && r.success) {
						window.location.href = "dashboard.html";
					} else {
						$("#msg").text((r && r.message) ? r.message : "Login failed.");
					}
				},
				error: function (xhr) {
					$("#msg").text("Server error. Check EmployeeLogin in ProjectServices.asmx.cs");
					console.log(xhr.responseText);
				}
			});
		}

		$(function () {
			$("#loginBtn").on("click", doLogin);
			$("#password").on("keypress", function (e) {
				if (e.which === 13) doLogin();
			});
		});
	</script>
</head>

<body>
	<div class="card">
		<h1>Employee Login</h1>

		<input id="email" type="email" placeholder="Email" />
		<input id="password" type="password" placeholder="Password" />
		<button id="loginBtn">Login</button>

		<div id="msg"></div>
	</div>


</body>
</html>